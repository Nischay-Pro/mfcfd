!        Generated by TAPENADE     (INRIA, Tropics team)
!  Tapenade 3.9 (r5096) - 24 Feb 2014 16:53
!
MODULE Q_LSKUM_MOD_CHKPTS_DIFF
#include <petsc/finclude/petscsys.h>

!
!
  USE DATA_STRUCTURE_MOD_DIFF
  USE PETSC_DATA_STRUCTURE_MOD
  USE POINT_NORMALS_MOD_DIFF_DIFF
  USE GENERATE_CONNECTIVITY_MOD_DIFF_DIFF
  USE FPI_SOLVER_MOD_DIFF_DIFF
  use initial_conditions_mod_diff_diff
  IMPLICIT NONE
!
!	
CONTAINS
!
!
  SUBROUTINE Q_LSKUM_CHKPTS_B()
    IMPLICIT NONE
!						
!		
    INTEGER :: t, i, r, ijk, k
    INTEGER :: ii1
    integer :: pflag = 1, iflag = 1
    real :: SF
!
!
!     Declaration for running the revolve algorithm ...
!    Parameters ..
!
      REAL*8 :: TAKSHT,ADVAN,FSTURN,YUTURN
      PARAMETER (TAKSHT=1,ADVAN=2,FSTURN=3,YUTURN=4)
      REAL*8 :: RESTRE,TRMATE,ERROR
      PARAMETER (RESTRE=5,TRMATE=6,ERROR=7)
!
!  .. Local Scalars ..                                                       
!                                                                               
      INTEGER :: CAPO,CHECK,FINE,INFO,SNAPS,STEPS,WHATDO
      INTEGER :: OLDCAPO,new_itime, ITIME, ITIMS, ITIM
! 
!     .. External Functions ..                                                  
!                                                                               
      INTEGER :: REVOLV, ADJUST, PFS
      EXTERNAL REVOLV, ADJUST
!                                                                               
      intrinsic cpu_time 
      real*8 :: start_time, end_time
!

      real*8, allocatable :: prim_stor(:, :, :), qm_stor(:, :, :, :)
      real*8, allocatable :: q_stor(:, :, :), dq_stor(:, :, :, :)
      real*8, allocatable :: fluxres_stor(:, :, :), delta_stor(:, :)
      real*8, allocatable :: primold_stor(:, :, :)
      PetscErrorCode :: ierr


!    
  END SUBROUTINE Q_LSKUM_CHKPTS_B
!
  SUBROUTINE Q_LSKUM()
    IMPLICIT NONE
!
!							
!		
    INTEGER :: t, i
!
    CALL COMPUTE_NORMALS()
    CALL GENERATE_CONNECTIVITY()
!
!			
    DO t=1,max_iters
      CALL FPI_SOLVER(t)
    END DO
  END SUBROUTINE Q_LSKUM

  subroutine set_obj()
        implicit none

  
  end subroutine

END MODULE Q_LSKUM_MOD_CHKPTS_DIFF
